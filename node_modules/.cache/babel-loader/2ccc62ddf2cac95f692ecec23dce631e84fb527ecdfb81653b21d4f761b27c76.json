{"ast":null,"code":"import sunriseAndSunsetData from \"./sunrise-sunset.json\";\nexport const getMoment = locationName => {\n  const location = sunriseAndSunsetData.find(data => data.locationName === locationName);\n  if (!location) {\n    throw new Error(`找不到 ${location} 的日出日落資料`);\n  }\n  const now = new Date();\n  const nowDate = Intl.DateTimeFormat(\"zh-TW\", {\n    year: \"numeric\",\n    month: \"2-digit\",\n    day: \"2-digit\"\n  }).format(now).replace(/\\//g, \"-\");\n  const locationDate = location === null || location === void 0 ? void 0 : location.time.find(time => time.dataTime === nowDate);\n  if (!locationDate) {\n    throw new Error(`找不到 ${locationName} 在 ${nowDate} 的日出日落資料`);\n  }\n  const sunriseTimestamp = new Date(`${locationDate.dataTime} ${locationDate.sunrise}`).getTime();\n  const sunsetTimestamp = new Date(`${locationDate.dataTime} ${locationDate.sunset}`).getTime();\n  const nowTimeStamp = now.getTime();\n  return sunriseTimestamp <= nowTimeStamp && nowTimeStamp <= sunsetTimestamp ? \"day\" : \"night\";\n};","map":{"version":3,"names":["sunriseAndSunsetData","getMoment","locationName","location","find","data","Error","now","Date","nowDate","Intl","DateTimeFormat","year","month","day","format","replace","locationDate","time","dataTime","sunriseTimestamp","sunrise","getTime","sunsetTimestamp","sunset","nowTimeStamp"],"sources":["/Users/bsc/Desktop/realtime-weather-react/src/utils/helpers.js"],"sourcesContent":["import sunriseAndSunsetData from \"./sunrise-sunset.json\";\n\nexport const getMoment = (locationName) => {\n  const location = sunriseAndSunsetData.find(\n    (data) => data.locationName === locationName\n  );\n\n  if (!location) {\n    throw new Error(`找不到 ${location} 的日出日落資料`);\n  }\n\n  const now = new Date();\n\n  const nowDate = Intl.DateTimeFormat(\"zh-TW\", {\n    year: \"numeric\",\n    month: \"2-digit\",\n    day: \"2-digit\",\n  })\n    .format(now)\n    .replace(/\\//g, \"-\");\n\n  const locationDate = location?.time.find((time) => time.dataTime === nowDate);\n\n  if (!locationDate) {\n    throw new Error(`找不到 ${locationName} 在 ${nowDate} 的日出日落資料`);\n  }\n\n  const sunriseTimestamp = new Date(\n    `${locationDate.dataTime} ${locationDate.sunrise}`\n  ).getTime();\n  const sunsetTimestamp = new Date(\n    `${locationDate.dataTime} ${locationDate.sunset}`\n  ).getTime();\n  const nowTimeStamp = now.getTime();\n\n  return sunriseTimestamp <= nowTimeStamp && nowTimeStamp <= sunsetTimestamp\n    ? \"day\"\n    : \"night\";\n};\n"],"mappings":"AAAA,OAAOA,oBAAoB,MAAM,uBAAuB;AAExD,OAAO,MAAMC,SAAS,GAAIC,YAAY,IAAK;EACzC,MAAMC,QAAQ,GAAGH,oBAAoB,CAACI,IAAI,CACvCC,IAAI,IAAKA,IAAI,CAACH,YAAY,KAAKA,YAAY,CAC7C;EAED,IAAI,CAACC,QAAQ,EAAE;IACb,MAAM,IAAIG,KAAK,CAAE,OAAMH,QAAS,UAAS,CAAC;EAC5C;EAEA,MAAMI,GAAG,GAAG,IAAIC,IAAI,EAAE;EAEtB,MAAMC,OAAO,GAAGC,IAAI,CAACC,cAAc,CAAC,OAAO,EAAE;IAC3CC,IAAI,EAAE,SAAS;IACfC,KAAK,EAAE,SAAS;IAChBC,GAAG,EAAE;EACP,CAAC,CAAC,CACCC,MAAM,CAACR,GAAG,CAAC,CACXS,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC;EAEtB,MAAMC,YAAY,GAAGd,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEe,IAAI,CAACd,IAAI,CAAEc,IAAI,IAAKA,IAAI,CAACC,QAAQ,KAAKV,OAAO,CAAC;EAE7E,IAAI,CAACQ,YAAY,EAAE;IACjB,MAAM,IAAIX,KAAK,CAAE,OAAMJ,YAAa,MAAKO,OAAQ,UAAS,CAAC;EAC7D;EAEA,MAAMW,gBAAgB,GAAG,IAAIZ,IAAI,CAC9B,GAAES,YAAY,CAACE,QAAS,IAAGF,YAAY,CAACI,OAAQ,EAAC,CACnD,CAACC,OAAO,EAAE;EACX,MAAMC,eAAe,GAAG,IAAIf,IAAI,CAC7B,GAAES,YAAY,CAACE,QAAS,IAAGF,YAAY,CAACO,MAAO,EAAC,CAClD,CAACF,OAAO,EAAE;EACX,MAAMG,YAAY,GAAGlB,GAAG,CAACe,OAAO,EAAE;EAElC,OAAOF,gBAAgB,IAAIK,YAAY,IAAIA,YAAY,IAAIF,eAAe,GACtE,KAAK,GACL,OAAO;AACb,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}